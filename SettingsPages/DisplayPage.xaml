<Page
    x:Class="Fairmark.SettingsPages.DisplayPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Fairmark.SettingsPages"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    xmlns:toolkit="using:CommunityToolkit.WinUI.Controls"
    xmlns:helpers="using:Fairmark.Helpers"
    xmlns:converters="using:Fairmark.Converters"
    xmlns:win2d="using:Microsoft.Graphics.Canvas.Text">
    <Page.Resources>
        <converters:FontFamilyToNameConverter x:Name="FontFamilyToName" />
        <converters:ThemeTranslationConverter x:Name="ThemeTranslationConverter" />
        <converters:SingleThemeTranslationConverter x:Name="SingleThemeTranslationConverter" />
    </Page.Resources>
    <ScrollViewer Padding="20">
        <StackPanel Orientation="Vertical" DataContext="{StaticResource Settings}">
            <toolkit:SettingsCard x:Uid="ThemeCard">
                <toolkit:SettingsCard.HeaderIcon>
                    <FontIcon Glyph="&#xE790;" />
                </toolkit:SettingsCard.HeaderIcon>
                <ComboBox
                    ItemsSource="{Binding AvailableThemes, Converter={StaticResource ThemeTranslationConverter}}"
                    SelectedItem="{Binding Theme, Mode=TwoWay, Converter={StaticResource SingleThemeTranslationConverter}}"
                    x:Name="ThemeSelector" 
                    HorizontalAlignment="Right">
                </ComboBox>
            </toolkit:SettingsCard>
            <toolkit:SettingsCard x:Uid="EditorFontFamilyCard">
                <toolkit:SettingsCard.HeaderIcon>
                    <FontIcon Glyph="&#xE8D2;" />
                </toolkit:SettingsCard.HeaderIcon>
                <ComboBox
                    ItemsSource="{x:Bind win2d:CanvasTextFormat.GetSystemFontFamilies()}"
                    SelectedItem="{Binding EditorFontFamily, Mode=TwoWay, Converter={StaticResource FontFamilyToName}}"
                    x:Uid="FontSelector" HorizontalAlignment="Right">
                </ComboBox>
            </toolkit:SettingsCard>
            <toolkit:SettingsCard x:Uid="EditorFontSizeCard">
                <toolkit:SettingsCard.HeaderIcon>
                    <FontIcon Glyph="&#xE8E9;" />
                </toolkit:SettingsCard.HeaderIcon>
                <Slider StepFrequency="1" Minimum="10" Maximum="60" HorizontalAlignment="Right" Value="{Binding EditorFontSize, Mode=TwoWay}"/>
            </toolkit:SettingsCard>
            <toolkit:SettingsCard x:Uid="PreviewFontFamily">
                <toolkit:SettingsCard.HeaderIcon>
                    <FontIcon Glyph="&#xE8D2;" />
                </toolkit:SettingsCard.HeaderIcon>
                <ComboBox
                    ItemsSource="{x:Bind win2d:CanvasTextFormat.GetSystemFontFamilies()}"
                    SelectedItem="{Binding PreviewFontFamily, Mode=TwoWay, Converter={StaticResource FontFamilyToName}}"
                    x:Uid="FontSelector" HorizontalAlignment="Right">
                </ComboBox>
            </toolkit:SettingsCard>
            <toolkit:SettingsCard x:Uid="PreviewFontSize">
                <toolkit:SettingsCard.HeaderIcon>
                    <FontIcon Glyph="&#xE8E9;" />
                </toolkit:SettingsCard.HeaderIcon>
                <Slider StepFrequency="1" Minimum="10" Maximum="60" HorizontalAlignment="Right" Value="{Binding PreviewFontSize, Mode=TwoWay}"/>
            </toolkit:SettingsCard>
        </StackPanel>
    </ScrollViewer>
</Page>